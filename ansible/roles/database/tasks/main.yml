---
- name: Launch database container
  docker_container:
    name: db
    image: ccao94/tp1-database:latest
    networks:
      - name: app-network
    volumes:
      - "db-data:/var/lib/postgresql/data"
    env:
      POSTGRES_USER: "{{ postgres_user }}"
      POSTGRES_PASSWORD: "{{ postgres_password }}"
      POSTGRES_DB: "{{ postgres_db }}"
  vars:
    ansible_python_interpreter: /usr/bin/python3
